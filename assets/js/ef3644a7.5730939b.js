"use strict";(self.webpackChunkconvenient_service_docs=self.webpackChunkconvenient_service_docs||[]).push([[4867],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>d});var n=r(7294);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,s=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),f=u(r),d=s,b=f["".concat(l,".").concat(d)]||f[d]||p[d]||i;return r?n.createElement(b,a(a({ref:t},c),{},{components:r})):n.createElement(b,a({ref:t},c))}));function d(e,t){var r=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var i=r.length,a=new Array(i);a[0]=f;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:s,a[1]=o;for(var u=2;u<i;u++)a[u]=r[u];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},5152:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var n=r(7462),s=(r(7294),r(3905));const i={slug:"/basics/failures",sidebar_position:6,title:"Failures"},a=void 0,o={unversionedId:"basics/failures",id:"basics/failures",title:"Failures",description:"What is a failure?",source:"@site/docs/basics/failures.mdx",sourceDirName:"basics",slug:"/basics/failures",permalink:"/basics/failures",draft:!1,editUrl:"https://github.com/marian13/convenient_service_docs/blob/main/docs/basics/failures.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{slug:"/basics/failures",sidebar_position:6,title:"Failures"},sidebar:"docs",previous:{title:"Errors",permalink:"/basics/errors"},next:{title:"Success",permalink:"/basics/success"}},l={},u=[{value:"What is a failure?",id:"what-is-a-failure",level:2}],c={toc:u};function p(e){let{components:t,...r}=e;return(0,s.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h2",{id:"what-is-a-failure"},"What is a failure?"),(0,s.kt)("p",null,"Errors prevent the achievement of the service goal due to unsatisfied validations or exceptions."),(0,s.kt)("p",null,"At the same time, ",(0,s.kt)("em",{parentName:"p"},"failures")," prevent the achievement of the service goal due to business reasons."),(0,s.kt)("p",null,"That is why is so vital to use meaningful names for services."),(0,s.kt)("p",null,"For instance, when the aim is ",(0,s.kt)("u",null,"to order a bus ticket"),", call it - ",(0,s.kt)("inlineCode",{parentName:"p"},"OrderBusTicket"),"."),(0,s.kt)("p",null,"So when the service is invoked, but the ticket is not ordered for some business reason, it should be treated as a failure."),(0,s.kt)("p",null,"Why? Because business reason is not an error, since the input is valid, the environment is stable, but the service goal is still not achieved."),(0,s.kt)("p",null,"Please, read the following code snippet carefully to get the idea."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ruby"},'class OrderBusTicket\n  # ...\n  def result\n    return error("Bus `#{bus.number}` is NOT valid") unless bus.valid?\n\n    return failure("Bus has no available seats") if bus.full?\n    return failure("Bus trip is postponed") if ::Trip.for_bus(bus).postponed?\n\n    ticket = ::BusTerminal.issue_ticket(bus)\n\n    success(ticket: ticket)\n  end\nend\n')),(0,s.kt)("p",null,"And this is how it can be triggerred:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ruby"},"result = OrderBusTicket.result(bus: bus)\n\nif result.failure?\n  # `result.message` is a string-like object with failure reason.\n  result.message\nend\n")),(0,s.kt)("p",null,"When the bus has not valid number we can not even try to order a ticket."),(0,s.kt)("p",null,"Hence the error is returned as the result."),(0,s.kt)("p",null,"But once all the error preconditions are met, the ticket can still be not ordered due to the business reasons like lack of available seats or the trip delay."),(0,s.kt)("p",null,"That is why those cases are examples of failures."))}p.isMDXComponent=!0}}]);