"use strict";(self.webpackChunkconvenient_service_docs=self.webpackChunkconvenient_service_docs||[]).push([[6886,8401],{264:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>d,toc:()=>a});var t=s(4848),i=s(8453),r=s(4428),c=s(6261);const l={slug:"/guides/setup/how_to_set_up_in_rspec",sidebar_position:3,title:"Setup in RSpec"},o=void 0,d={id:"guides/setup/how_to_set_up_in_rspec",title:"Setup in RSpec",description:"- As always, add a new entry to your Gemfile as the first step.",source:"@site/docs/guides/setup/how_to_set_up_in_rspec.mdx",sourceDirName:"guides/setup",slug:"/guides/setup/how_to_set_up_in_rspec",permalink:"/guides/setup/how_to_set_up_in_rspec",draft:!1,unlisted:!1,editUrl:"https://github.com/marian13/convenient_service_docs/blob/main/docs/guides/setup/how_to_set_up_in_rspec.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{slug:"/guides/setup/how_to_set_up_in_rspec",sidebar_position:3,title:"Setup in RSpec"},sidebar:"docs",previous:{title:"Setup in a Rails project",permalink:"/guides/setup/how_to_set_up_in_rails"},next:{title:"Setup in Minitest",permalink:"/guides/setup/how_to_set_up_in_minitest"}},p={},a=[];function u(e){const n={a:"a",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["As always, add a new entry to your ",(0,t.jsx)(n.a,{href:"https://bundler.io/guides/gemfile.html",children:"Gemfile"})," as the first step."]}),"\n",(0,t.jsx)(r.A,{language:"ruby",children:`gem "convenient_service", "~> ${c.A}"`}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Then run ",(0,t.jsx)(n.a,{href:"https://bundler.io/man/bundle-install.1.html",children:"bundle"})," to install the gem."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bundle install\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Add the following line to your ",(0,t.jsx)(n.a,{href:"https://relishapp.com/rspec/rspec-core/docs",children:"spec_helper.rb"})," or ",(0,t.jsx)(n.a,{href:"https://relishapp.com/rspec/rspec-rails/docs",children:"rails_helper.rb"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ruby",children:"ConvenientService::Dependencies.require_rspec_extentions\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["To ensure ",(0,t.jsx)(n.a,{href:"/",children:"Convenient Service"})," ",(0,t.jsx)(n.a,{href:"https://rspec.info",children:"RSpec"})," extentions are properly loaded, define a quick service, for example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ruby",metastring:"title=lib/service.rb",children:"class Service\n  include ConvenientService::Standard::Config\n\n  def result\n    success\n  end\nend\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Create the specs for it."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ruby",metastring:"title=spec/service_spec.rb",children:'RSpec.describe Service do\n  include ConvenientService::RSpec::Matchers::Results\n\n  example_group "class methods" do\n    describe ".result" do\n      let(:result) { described_class.result }\n\n      context "when `Service` is successful" do\n        it "returns `success`" do\n          expect(result).to be_success.of_service(described_class).with_data.without_step\n        end\n      end\n    end\n  end\nend\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Finally, run them."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bundle exec rspec spec/service_spec.rb\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"That's it. Happy testing!"}),"\n"]}),"\n"]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},6261:(e,n,s)=>{s.d(n,{A:()=>t});const t="0.19.1"},4428:(e,n,s)=>{s.d(n,{A:()=>c});s(6540);var t=s(1432),i=s(4848);const r=e=>{let n=e.toString().split("\n");n=""===n[0]?n.slice(1):n;const s=n.find((e=>e.length)).search(/[^ ]/),t=-1===s?0:s;return n.map((e=>e.trimEnd())).map((e=>"-"===e.trimStart()?"":e)).map((e=>e.slice(t))).join("\n")};function c(e){let{children:n,...s}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t.A,{...s,children:r(n)})})}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var t=s(6540);const i={},r=t.createContext(i);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);